<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>ft-Transcendence</title>
	<link rel="stylesheet" href="styles/styles.css">
	<script type="module" src="scripts/main.js" defer></script>
	<link rel="icon" href="/images/favicon.ico" type="image/x-icon"/>
</head>
<body class="bg-muted">
	<nav class="navbar navbar-expand-sm sticky-top bg-dark">
		<div class="container-fluid">
			<a class="navbar-brand test" href="/" data-link>
				<img src="images/logo-new.png" alt="" width="150" />
			</a>
			<button
				class="test navbar-toggler"
				type="button"
				data-bs-toggle="collapse"
				data-bs-target="#navbarNavDropdown"
				aria-controls="navbarNavDropdown"
				aria-expended="false"
				aria-label="Toggle navigation"
				>
				<span class="navbar-toggler-icon"></span>
			</button>
			<div class="collapse navbar-collapse" id="navbarNavDropdown">
			</div>
		</div>
		<a href="/profile" class="btn btn-primary" data-link>Profile</a>
	</nav>

	<div class="modal fade" id="modalRegistration">
		<div class="modal-dialog">
		  <div class="modal-content">
			<div class="modal-header">
			  <h1 class="modal-title fs-5" id="registrationLabel">Registration</h1>
			  <div class="btn-close" data-bs-dismiss="modal"></div>
			</div>
			<div class="modal-body">
			  <form id="registrationForm" action="api/auth/token" method="POST">
				  <div class="mb-3">
					<label for="username" class="form-label">Username</label>
					<input type="username" name='username' id="username" class="form-control">
					<small class="form-text text-muted">
						Your username must have between 4-24 characters, only letters and numbers.
					</small>
					<div id="usernameValidation"></div>
				  </div>

				  <div class="mb-3">
					<label for="email" class="form-label">Email</label>
					<input type="email" name='email' id="email" class="form-control">
					<div id="emailValidation"></div>
				  </div>
				  <div class="mb-3">
					<label for="password" class="form-label">Password</label>
					<input type="password" name='password' id="password" class="form-control">
					<small class="form-text text-muted">
						Your password must have between 4-24 characters, at least one uppercase, one lowercase and one number.
					</small>
					<div id="passwordValidation"></div>
				  </div>
				  <div class="mb-3">
					<label for="password-check" class="form-label">Comfirm Password</label>
					<input type="password" name='password-check' id="password-check" class="form-control">
					<div id="password-checkValidation"></div>
				  </div>
				<button type="submit" value="Register" class="btn btn-primary">Submit</button>
			  </form>
			</div>
		  </div>
		</div>
	  </div>

	  <div class="modal fade" id="modalLogin">
		<div class="modal-dialog">
		  <div class="modal-content">
			<div class="modal-header">
			  <h1 class="modal-title fs-5" id="loginLabel">Login</h1>
			  <div class="btn-close" data-bs-dismiss="modal"></div>
			</div>
			<div class="modal-body">
			  <form id="loginForm" action="api/auth/token" method="POST">
				  <div class="mb-3">
					<label for="username" class="form-label">Username</label>
					<input type="username" name='username' id="loginUsername" class="form-control">
				  </div>
				  <div class="mb-3">
					<label for="password" class="form-label">Password</label>
					<input type="password" name='password' id="loginPassword" class="form-control">
					<span id="loginValidation" class="error text-danger"></span>
				  </div>
				<button type="submit" id="submitLogin" value="Login" class="btn btn-primary">Submit</button>
			  </form>
			</div>
		  </div>
		</div>
	  </div>

	  <div class="modal fade" id="modalProfile">
		<div class="modal-dialog modal-lg">
			<div class="modal-content">
				<div class="modal-header">
					<h1 class="modal-title fs-5" id="profileLabel">Profile</h1>
					<div class="btn-close" data-bs-dismiss="modal"></div>
				</div>
				<div id="profilePictureContainer">
					<img id="profilePicture" class="rounded-circle border" alt="profilePicture" width="150" height="150" src="images/default-user-picture.png"/>
				</div>
				<div class="modal-body">
					<form id="profileForm" action="api/updateprofile/" method="PATCH">
						<div id="profileImageContainer" class="mb-3 d-none">
							<label for="formFile" class="form-label">Profile picture</label>
  							<input class="form-control" type="file" id="profileImageField">
							<div id="pictureUploadValidation" class="error text-danger"></div>
						</div>
						<div class="mb-3">
							<label for="username" class="col-md-3 col-form-label">Username</label>
							<input type="username" name="username" id="profileUsername" class="form-control" placeholder="username" disabled>
							<div id="profileUsernameValidation"></div>
						</div>
						<div class="mb-3">
							<label for="email" class="col-md-3 col-form-label">Email</label>
							<input type="email" name="email" id="profileEmail" class="form-control" placeholder="email" disabled>
							<div id="profileEmailValidation"></div>
						</div>
						<button type="button" class="btn btn-primary" id="modifyProfile">Modify</button>
						<button type="submit" class="btn btn-primary d-none" id="profileSaveChanges">Save changes</button>
						<!-- <a href="waddup" data-bs-toggle="modal"
						data-bs-target="#modalPassword">Change Password</a> -->
					</form>
				</div>
			</div>
		</div>
	  </div>

		<div id="main_frame" class="container text-center">
			<div class="row">
				<div class="col">
					<a id="localgamebtn" href="/localgame" class="btn btn-primary m-5" data-link>local game</a>
				</div>
				<div class="col">
					<a id="remotegamebtn" href="/remotegame" class="btn btn-primary d-none m-5" data-link>Remote game</a>
				</div>
			</div>
			<div class="row">
				<div class="col">
					<a id="menubtn" href="/" class="btn btn-primary d-none m-5 bt-primary" data-link>Menu</a>
				</div>
			</div>
			<div class="row">
				<div class="col">
					<canvas id="board" class="m-5 mt-2" width="640" height="480"></canvas>
				</div>
			</div>
		</div>
</body>
</html>
